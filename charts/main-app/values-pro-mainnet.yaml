git:
  targetRevision: main

stage: pro

network: mainnet

domain: beta.explorer.cardano.org

cf-explorer-infra:
  enabled: false

cf-ledger-sync:
  enabled: true
  values:
    git:
      targetRevision: "chore/add-affinity-support-for-helm-chart"
    image:
      repository: "pro.registry.gitlab.metadata.dev.cf-deployments.org/base-infrastructure/docker-registry/cf-ledger-sync"
      tag: "0d6d20f-8246831004"
    ingress:
      enabled: false
    blocks:
      batchSize: "10"
    useLocalCardanoNode: true
    localCardanoNode:
      enabled: true
      network: "mainnet"
      image:
        repository: ghcr.io/blinklabs-io/cardano-node
        tag: 8.9.0-1-amd64
      tolerations:
        - key: "role"
          operator: "Equal"
          value: "cardano-node"
          effect: "PreferNoSchedule"
      affinity:
        nodeAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
            - matchExpressions:
              - key: node.kubernetes.io/role
                operator: In
                values:
                - cardano-node
          preferredDuringSchedulingIgnoredDuringExecution:
          - weight: 100
            preference:
              matchExpressions:
                - key: node.kubernetes.io/role
                  operator: In
                  values:
                  - cardano-node

cf-explorer:
  enabled: true
  values:
    ingressDomains:
      - name: cloudfront
        domain: beta.explorer.cardano.org
      - name: global-lb
        domain: pro.cf-explorer-mainnet.global.beta.explorer.cardano.org
      - name: eu-west-1-lb
        domain: pro.cf-explorer-mainnet.eu-west-1.beta.explorer.cardano.org
      - name: us-east-1-lb
        domain: pro.cf-explorer-mainnet.us-east-1.beta.explorer.cardano.org
    crawler:
      enabled: false
    consumer:
      enabled: false
    explorerApi:
      enabled: true
      image:
        tag: "0.8.0-PR1038-f74b963-8135114438"
      postgres:
        secret:
          hostKey: POSTGRES_READ_ONLY_HOST
      redis:
        mode: managed-standalone
        standalone:
          useSsl: "true"
      kafka:
        useSsl: "true"
        bootstrapServersSecret:
          name: infra-secrets
      tokenLogoEndpoint: https://pro-cf-explorer-token-logos.s3.eu-west-1.amazonaws.com/
    explorerRewardsApi:
      enabled: true
      image:
        tag: "0.1.8-SNAPSHOT-PR93-1299c79-7912678888"
    explorerAuthentication:
      enabled: true
      replicas: 1
      image:
        tag: "0.5.0-SNAPSHOT-sanchonet-PR123"
      redis:
        mode: managed-standalone
        standalone:
          useSsl: "true"
      emailFrom: "admin@beta.explorer.cardano.org"
      keycloakServerUrl: "https://keycloak.pro.cf-explorer-mainnet.eu-west-1.beta.explorer.cardano.org"
    explorerFrontEnd:
      enabled: true
      image:
        tag: "1.0.0-PR3105-cee63ea-8321247451"
      reactAppSanchonetAppUrl: "https://sanchonet.beta.explorer.cardano.org"
      reactAppPreProdAppUrl: "https://preprod.beta.explorer.cardano.org"
      reactAppPreviewAppUrl:  "https://preview.beta.explorer.cardano.org"
      reactAppMainnetAppUrl: "https://beta.explorer.cardano.org"
      reactAppAuthUrl: "https://auth-api.pro.cf-explorer-mainnet.eu-west-1.beta.explorer.cardano.org/api/v1"
      # temporary
      reactAppApiUrl: "https://api.pro.cf-explorer-mainnet.eu-west-1.beta.explorer.cardano.org/api/v1"
      reactAppWsUrl: "wss://api.pro.cf-explorer-mainnet.eu-west-1.beta.explorer.cardano.org/ws"
    consumerSchedules:
      enabled: true
      image:
        tag: "0.9.0-PR318-4932450-8235150499"
      redis:
        mode: managed-standalone
        standalone:
          useSsl: "true"
      kafka:
        useSsl: "true"
        bootstrapServersSecret:
          name: infra-secrets
      tokenLogoEndpoint: https://pro-cf-explorer-token-logos.s3.eu-west-1.amazonaws.com/
    keycloak:
      enabled: true
      image:
        tag: 0.1.15-SNAPSHOT
      setupImage:
        tag: 0.1.15-SNAPSHOT
      hostname: keycloak.pro.cf-explorer-mainnet.eu-west-1.beta.explorer.cardano.org
      frontendDomainPublicUrl: https://beta.explorer.cardano.org
      webOrigin: https://beta.explorer.cardano.org
      redirectUri: https://beta.explorer.cardano.org/*
      forwardEventUrl: https://beta.explorer.cardano.org/api/v1/user/role-mapping

# Ada Handle Parameters
adahandle-resolver:
  enabled: true
  values:
    springProfiles: mainnet,postgres
    image:
      tag: "0.1.3"

argo-cd:
  server:
    ingress:
      hosts:
        - argocd.pro.cf-explorer-mainnet.eu-west-1.beta.explorer.cardano.org
